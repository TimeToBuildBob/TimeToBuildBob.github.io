//- Enhanced card component for posts, projects, and notes
//- Usage: {% include card.pug type="post" url=post.url title=post.title date=post.date excerpt=post.excerpt tags=post.tags %}
article.card.group.rounded-xl.shadow-md.border.overflow-hidden.relative(class="{{ include.type }}-card hover:shadow-xl hover:-translate-y-1 transition-all duration-300 border-gray-200")
  //- Status accent bar (colored left border based on status)
  | {% if include.status %}
  | {% case include.status %}
  | {% when 'completed' or 'done' %}
  .absolute.left-0.top-0.bottom-0(class="w-1 bg-gradient-to-b from-green-400 to-green-600")
  | {% when 'in-progress' or 'active' %}
  .absolute.left-0.top-0.bottom-0(class="w-1 bg-gradient-to-b from-blue-400 to-blue-600")
  | {% when 'paused' %}
  .absolute.left-0.top-0.bottom-0(class="w-1 bg-gradient-to-b from-yellow-400 to-yellow-600")
  | {% else %}
  .absolute.left-0.top-0.bottom-0(class="w-1 bg-gradient-to-b from-gray-400 to-gray-600")
  | {% endcase %}
  | {% endif %}

  .card-content.p-3
    //- Header with title and status badge
    .card-header.mb-4
      .flex.items-start.justify-between.gap-3.mb-3
        h2.card-title.text-2xl.font-bold.flex-1(class="text-gray-900 group-hover:text-blue-600 transition-colors")
          a.transition-colors.duration-200(href="{{ include.url }}") {{ include.title }}
        | {% if include.status %}
        | {% case include.status %}
        | {% when 'completed' or 'done' %}
        span.status.inline-flex.items-center.rounded-lg.text-sm.font-semibold.shadow-sm(class="px-3 py-1.5 bg-green-50 text-green-700 border border-green-200")
          i.fas.fa-check-circle(class="mr-1.5")
          | {{ include.status | capitalize }}
        | {% when 'in-progress' or 'active' %}
        span.status.inline-flex.items-center.rounded-lg.text-sm.font-semibold.shadow-sm(class="px-3 py-1.5 bg-blue-50 text-blue-700 border border-blue-200")
          i.fas.fa-spinner(class="mr-1.5")
          | {{ include.status | capitalize }}
        | {% when 'paused' %}
        span.status.inline-flex.items-center.rounded-lg.text-sm.font-semibold.shadow-sm(class="px-3 py-1.5 bg-yellow-50 text-yellow-700 border border-yellow-200")
          i.fas.fa-pause-circle(class="mr-1.5")
          | {{ include.status | capitalize }}
        | {% else %}
        span.status.inline-flex.items-center.rounded-lg.text-sm.font-semibold.shadow-sm(class="px-3 py-1.5 bg-gray-50 text-gray-700 border border-gray-200")
          i.fas.fa-circle-notch(class="mr-1.5")
          | {{ include.status | capitalize }}
        | {% endcase %}
        | {% endif %}

      //- Date if present
      | {% if include.date %}
      p.card-date.text-sm.flex.items-center(class="text-gray-500")
        i.far.fa-calendar.mr-2
        | {{ include.date | date: "%B %d, %Y" }}
      | {% endif %}

    //- Excerpt/description with better typography
    | {% if include.excerpt %}
    p.card-excerpt.leading-relaxed.mb-5.text-base(class="text-gray-700") {{ include.excerpt }}
    | {% endif %}

    //- Tags with improved styling
    | {% if include.tags %}
    .card-tags.mb-5
      .flex.flex-wrap(class="gap-2")
        | {% for tag in include.tags %}
        span.tag.inline-flex.items-center.rounded-lg.font-medium.transition-colors.duration-200(class="px-3 py-1.5 text-xs bg-indigo-50 text-indigo-700 border border-indigo-200 hover:bg-indigo-100")
          i.fas.fa-tag(class="mr-1.5 text-xs")
          | {{ tag }}
        | {% endfor %}
    | {% endif %}

    //- Improved project links (GitHub, Demo)
    | {% if include.type == "project" and include.github or include.demo %}
    .card-links.flex.flex-wrap.pt-4.border-t(class="gap-3 border-gray-200")
      | {% if include.github %}
      a.github.inline-flex.items-center.text-sm.font-semibold.rounded-lg.transition-all.duration-200.shadow-sm(href="https://github.com/{{ include.github }}" class="px-4 py-2.5 text-gray-700 bg-gray-50 border border-gray-300 hover:bg-gray-100 hover:shadow-md hover:scale-105")
        i.fab.fa-github.mr-2.text-base
        | View on GitHub
      | {% endif %}
      | {% if include.demo %}
      a.demo.inline-flex.items-center.text-sm.font-semibold.text-white.rounded-lg.transition-all.duration-200.shadow-sm(href="{{ include.demo }}" class="px-4 py-2.5 bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 hover:shadow-md hover:scale-105")
        i.fas.fa-external-link-alt.mr-2
        | Live Demo
      | {% endif %}
    | {% endif %}

    //- Read more link for posts/notes
    | {% if include.type != "project" %}
    .card-footer.pt-4.border-t(class="border-gray-200")
      a.read-more.inline-flex.items-center.text-sm.font-semibold.transition-colors.duration-200(href="{{ include.url }}" class="text-blue-600 hover:text-blue-700")
        | Read more
        i.fas.fa-arrow-right.ml-2.transition-transform.duration-200(class="group-hover:translate-x-1")
    | {% endif %}
