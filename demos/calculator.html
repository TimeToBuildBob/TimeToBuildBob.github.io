<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculator - Team Demo</title>
    <style>
/* Calculator Demo Styles - Built by CSS Agent */

.calculator-container {
  max-width: 320px;
  margin: 2rem auto;
  padding: 1.5rem;
  background: #1a1a2e;
  border-radius: 16px;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.display {
  width: 100%;
  padding: 1rem 1.25rem;
  margin-bottom: 1rem;
  background: #16213e;
  border: none;
  border-radius: 8px;
  color: #eee;
  font-size: 2rem;
  font-family: 'SF Mono', 'Consolas', monospace;
  text-align: right;
  box-sizing: border-box;
}

.display:focus {
  outline: 2px solid #e94560;
  outline-offset: 2px;
}

.buttons {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 0.75rem;
}

.btn {
  padding: 1rem;
  border: none;
  border-radius: 8px;
  font-size: 1.25rem;
  font-weight: 500;
  cursor: pointer;
  transition: transform 0.1s ease, background-color 0.2s ease, box-shadow 0.2s ease;
}

.btn:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
}

.btn:active {
  transform: translateY(0);
}

.btn-num {
  background: #0f3460;
  color: #eee;
}

.btn-num:hover {
  background: #1a4a7a;
}

.btn-op {
  background: #533483;
  color: #eee;
}

.btn-op:hover {
  background: #6b44a8;
}

#btn-equals {
  background: #e94560;
  color: #fff;
}

#btn-equals:hover {
  background: #ff6b6b;
}

#btn-clear {
  background: #c23a22;
  color: #fff;
}

#btn-clear:hover {
  background: #e04a2f;
}

/* Responsive design for mobile */
@media (max-width: 400px) {
  .calculator-container {
    margin: 1rem;
    padding: 1rem;
    max-width: 100%;
  }

  .display {
    font-size: 1.5rem;
    padding: 0.75rem 1rem;
  }

  .buttons {
    gap: 0.5rem;
  }

  .btn {
    padding: 0.875rem;
    font-size: 1.1rem;
  }
}

body {
  background: #0f0f23;
  min-height: 100vh;
  display: flex;
  align-items: center;
  justify-content: center;
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  margin: 0;
  padding: 1rem;
}

h1 {
  color: #eee;
  text-align: center;
  margin-bottom: 1rem;
  font-size: 1.5rem;
}

.demo-info {
  color: #888;
  text-align: center;
  font-size: 0.875rem;
  margin-top: 1rem;
}
    </style>
</head>
<body>
    <div>
        <h1>ðŸ§® Calculator</h1>
        <div class="calculator-container">
            <!-- Display - Built by HTML Agent -->
            <output id="display" class="display">0</output>

            <!-- Buttons - Built by HTML Agent -->
            <div class="buttons">
                <!-- Row 1: Clear and operators -->
                <button id="btn-clear" class="btn" type="button" aria-label="Clear">C</button>
                <button class="btn btn-op" type="button" data-op="/" aria-label="Divide">/</button>
                <button class="btn btn-op" type="button" data-op="*" aria-label="Multiply">Ã—</button>
                <button class="btn btn-op" type="button" data-op="-" aria-label="Subtract">âˆ’</button>

                <!-- Row 2: 7, 8, 9, + -->
                <button class="btn btn-num" type="button" data-num="7">7</button>
                <button class="btn btn-num" type="button" data-num="8">8</button>
                <button class="btn btn-num" type="button" data-num="9">9</button>
                <button class="btn btn-op" type="button" data-op="+" aria-label="Add">+</button>

                <!-- Row 3: 4, 5, 6 -->
                <button class="btn btn-num" type="button" data-num="4">4</button>
                <button class="btn btn-num" type="button" data-num="5">5</button>
                <button class="btn btn-num" type="button" data-num="6">6</button>
                <button class="btn" style="visibility: hidden;"></button>

                <!-- Row 4: 1, 2, 3 -->
                <button class="btn btn-num" type="button" data-num="1">1</button>
                <button class="btn btn-num" type="button" data-num="2">2</button>
                <button class="btn btn-num" type="button" data-num="3">3</button>
                <button id="btn-equals" class="btn" type="button" aria-label="Equals" style="grid-row: span 2;">=</button>

                <!-- Row 5: 0, decimal -->
                <button class="btn btn-num" type="button" data-num="0" style="grid-column: span 2;">0</button>
                <button id="btn-decimal" class="btn btn-num" type="button" aria-label="Decimal point">.</button>
            </div>
        </div>
        <p class="demo-info">Built by 3 parallel agents: HTML, CSS, and JavaScript</p>
    </div>

    <script>
/**
 * Interactive Calculator Demo - Built by JavaScript Agent
 * Basic arithmetic calculator with state management
 */

(function() {
  'use strict';

  // Calculator state
  const state = {
    currentInput: '0',
    previousInput: '',
    operator: null,
    waitingForOperand: false
  };

  // DOM elements (supports both naming conventions)
  const display = document.querySelector('#display') || document.querySelector('.display');
  const numberButtons = document.querySelectorAll('.btn-num, .btn-number');
  const operatorButtons = document.querySelectorAll('.btn-op, .btn-operator');
  const equalsButton = document.querySelector('#btn-equals') || document.querySelector('.btn-equals');
  const clearButton = document.querySelector('#btn-clear') || document.querySelector('.btn-clear');
  const decimalButton = document.querySelector('#btn-decimal');

  /**
   * Update the calculator display
   */
  function updateDisplay() {
    if (display) {
      display.textContent = state.currentInput;
    }
  }

  /**
   * Handle number button clicks
   * @param {string} digit - The digit pressed
   */
  function inputNumber(digit) {
    if (state.waitingForOperand) {
      state.currentInput = digit;
      state.waitingForOperand = false;
    } else {
      // Replace initial 0 or append digit
      state.currentInput = state.currentInput === '0'
        ? digit
        : state.currentInput + digit;
    }
    updateDisplay();
  }

  /**
   * Handle decimal point input
   */
  function inputDecimal() {
    if (state.waitingForOperand) {
      state.currentInput = '0.';
      state.waitingForOperand = false;
      updateDisplay();
      return;
    }

    // Only add decimal if not already present
    if (!state.currentInput.includes('.')) {
      state.currentInput += '.';
      updateDisplay();
    }
  }

  /**
   * Perform arithmetic calculation
   * @param {number} a - First operand
   * @param {number} b - Second operand
   * @param {string} op - Operator
   * @returns {number|string} - Result or error message
   */
  function calculate(a, b, op) {
    switch (op) {
      case '+':
        return a + b;
      case '-':
        return a - b;
      case '*':
        return a * b;
      case '/':
        if (b === 0) {
          return 'Error';
        }
        return a / b;
      default:
        return b;
    }
  }

  /**
   * Handle operator button clicks
   * @param {string} nextOperator - The operator pressed
   */
  function inputOperator(nextOperator) {
    const inputValue = parseFloat(state.currentInput);

    // If we already have an operator and are not waiting for operand, calculate first
    if (state.operator && !state.waitingForOperand) {
      const result = calculate(
        parseFloat(state.previousInput),
        inputValue,
        state.operator
      );

      if (result === 'Error') {
        state.currentInput = 'Error';
        state.previousInput = '';
        state.operator = null;
        state.waitingForOperand = true;
        updateDisplay();
        return;
      }

      state.currentInput = String(result);
      state.previousInput = state.currentInput;
    } else {
      state.previousInput = state.currentInput;
    }

    state.operator = nextOperator;
    state.waitingForOperand = true;
    updateDisplay();
  }

  /**
   * Handle equals button click - compute final result
   */
  function computeResult() {
    if (!state.operator || state.waitingForOperand) {
      return;
    }

    const inputValue = parseFloat(state.currentInput);
    const result = calculate(
      parseFloat(state.previousInput),
      inputValue,
      state.operator
    );

    if (result === 'Error') {
      state.currentInput = 'Error';
    } else {
      // Round to avoid floating point precision issues
      state.currentInput = String(Math.round(result * 1000000000) / 1000000000);
    }

    state.previousInput = '';
    state.operator = null;
    state.waitingForOperand = true;
    updateDisplay();
  }

  /**
   * Clear calculator state and reset display
   */
  function clearCalculator() {
    state.currentInput = '0';
    state.previousInput = '';
    state.operator = null;
    state.waitingForOperand = false;
    updateDisplay();
  }

  /**
   * Initialize event listeners
   */
  function init() {
    // Number button handlers
    numberButtons.forEach(function(button) {
      button.addEventListener('click', function() {
        const value = this.dataset.num || this.dataset.value || this.textContent;
        if (value === '.') {
          inputDecimal();
        } else {
          inputNumber(value);
        }
      });
    });

    // Decimal button handler (if separate button exists)
    if (decimalButton) {
      decimalButton.addEventListener('click', inputDecimal);
    }

    // Operator button handlers
    operatorButtons.forEach(function(button) {
      button.addEventListener('click', function() {
        const op = this.dataset.op || this.dataset.operator || this.textContent;
        inputOperator(op);
      });
    });

    // Equals button handler
    if (equalsButton) {
      equalsButton.addEventListener('click', computeResult);
    }

    // Clear button handler
    if (clearButton) {
      clearButton.addEventListener('click', clearCalculator);
    }

    // Keyboard support
    document.addEventListener('keydown', function(event) {
      const key = event.key;

      if (/^[0-9]$/.test(key)) {
        inputNumber(key);
      } else if (key === '.') {
        inputDecimal();
      } else if (key === '+' || key === '-' || key === '*' || key === '/') {
        inputOperator(key);
      } else if (key === 'Enter' || key === '=') {
        event.preventDefault();
        computeResult();
      } else if (key === 'Escape' || key === 'c' || key === 'C') {
        clearCalculator();
      } else if (key === 'Backspace') {
        // Allow backspace to delete last character
        if (!state.waitingForOperand && state.currentInput.length > 1) {
          state.currentInput = state.currentInput.slice(0, -1);
        } else {
          state.currentInput = '0';
        }
        updateDisplay();
      }
    });

    // Initialize display
    updateDisplay();
  }

  // Initialize when DOM is ready
  if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', init);
  } else {
    init();
  }
})();
    </script>
</body>
</html>
